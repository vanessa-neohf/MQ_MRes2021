---
title: "Study Sites"
author: "Vanessa Neo"
date: "`r lubridate::today()`"
output: pdf_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r Map, echo = FALSE, warning = FALSE, message = FALSE}
library(tidyverse)
library(maps)
library(ggrepel)
library(ggmap)

watercolor <- get_map(location = c(lon = 125, lat = -20), zoom = 3, source = 'stamen', maptype="watercolor")

Study_Sites <- read_csv(here::here("data_raw", "Combined_Site_Coordinates_Full.csv")) 

SS_Map <- ggmap(watercolor, fullpage = TRUE) +
  geom_point(data = Study_Sites, aes(x = Longitude, y = Latitude, shape = Reef), size = 3, position = "jitter") +
  labs(caption = "Number of Sites = 19") +
  theme(plot.caption = element_text(hjust = 0.5, size = 9), legend.title = element_blank(), legend.key = element_rect(fill = "transparent"), panel.background = element_rect(fill = "transparent"), legend.position = "bottom", legend.text = element_text(size = 7)) +
  #xlim(85, 175) + #for full map
  #ylim(-50, 10) + #for full map
  xlim(95, 150) +
  ylim(-35, 0) +
  guides(shape = guide_legend(nrow = 2))
 
SS_Map

ggsave("study sites.png", path = here::here("graphics/Figures"), dpi = 300, width = 210, height = 100, units = "mm", limitsize = TRUE, bg = "transparent")

Cocos <- ggmap(watercolor, fullpage = TRUE) +
  geom_point(data = Study_Sites, aes(x = Longitude, y = Latitude, shape = Reef), size = 3, position = "jitter") +
  theme(plot.caption = element_text(hjust = 0.5, size = 9), legend.title = element_blank(), legend.key = element_rect(fill = "transparent"), panel.background = element_rect(fill = "transparent"), legend.position = "none", legend.text = element_blank()) +
  #xlim(85, 175) + #for full map
  #ylim(-50, 10) + #for full map
  xlim(95, 105) +
  ylim(-15, -5) 

Scott_and_Browse <- ggmap(watercolor, fullpage = TRUE) +
  geom_point(data = Study_Sites, aes(x = Longitude, y = Latitude, shape = Reef), size = 3, position = "jitter") +
  theme(plot.caption = element_text(hjust = 0.5, size = 9), legend.title = element_blank(), legend.key = element_rect(fill = "transparent"), panel.background = element_rect(fill = "transparent"), legend.position = "none", legend.text = element_blank()) +
  #xlim(85, 175) + #for full map
  #ylim(-50, 10) + #for full map
  xlim(120, 124) +
  ylim(-15, -12) 

ggmap(watercolor, fullpage = TRUE) +
  geom_point(data = Study_Sites, aes(x = Longitude, y = Latitude, shape = Reef), size = 3, position = "jitter") +
  theme(plot.caption = element_text(hjust = 0.5, size = 9), legend.title = element_blank(), legend.key = element_rect(fill = "transparent"), panel.background = element_rect(fill = "transparent"), legend.position = "none", legend.text = element_blank()) +
  #xlim(85, 175) + #for full map
  #ylim(-50, 10) + #for full map
  xlim(110, 120) +
  ylim(-30, -21) 

###Old Code###
#Aus <- map_data("world") %>% 
 # filter(region == "Australia")

#cols <- c("Browse Island" = "#CC6666", "Scott Reef" = "#9999CC", "Cocos (Keeling) Islands" = "#66CC99", "Ningaloo Reef" = "#FFCC99", "Houtman Abrolhos" = "dark blue")

# geom_polygon(data = Aus, aes(x = long, y = lat, group = group), fill = "grey") +
 # geom_point(data = Study_Sites, aes(x = Longitude, y = Latitude, color = Reef), size = 3 ) +
  #geom_label_repel(data = Study_Sites, aes(x = Longitude, y = Latitude, label = Site, fill = Reef), size = 4, max.overlaps = 40, segment.color = "grey80") +
  #scale_color_manual(values = cols) +
  #xlab("Longitude") +
  #ylab("Latitude") +
  #ylim(-40, -10) +
  #xlim(95, 125) +
  #labs(caption = "Number of Sites = 19")+
  #coord_fixed(ratio = 1) +
  #theme(legend.key = element_rect(fill = "transparent"), panel.grid = element_line(color = "transparent"), legend.position = "bottom", axis.title = element_text(size = 12), panel.background = element_rect(fill = "transparent"), axis.line = element_line(color = "black"), plot.caption = element_text(hjust = 0.5, size = 12), legend.title = element_blank() )

#ggsave("study sites.png", path = here::here("graphics/Figures"), dpi = 300, width = 210, height = 100, units = "mm", limitsize = FALSE)

```
